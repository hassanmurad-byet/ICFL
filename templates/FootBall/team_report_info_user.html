{% extends 'bases.html' %}
{% load static %}
{% load custom_tags %}
{% block title %} ICFL {% endblock title %}

{% block main-content %}




<!-- Display team  -->
<div class="site-section bg-light">
    <div class="container bg-light ">


        <div class="row">

            <div class="col-12 title-section mt-2">
                <a href="{% url 'FootBall:user_dashboard' %}" class="heading">User Dashboard</a>
            </div>




            <div class="navbar col-md-12  d-flex justify-content-center mb-4 bg-dark ">



                <a href="{% url 'FootBall:user_dashboard' %}" class="m-3 "> <span>Dashboard</span> </a>


            </div>

            <div class="container-fluid ">


                <div class="row clearfix">
                    <div class="col-lg-12  ">
                        <div class="">
                            <div class="card-body">
                                <div class="header text-center bg-light">
                                    <p>Team Report</p>
                                </div>


                                <div class="row">
                                    <div class="col-12 title-section">
                                        <P>Team: {{team.team_name}}</P>
                                        <div class="clearfix d-flex m-3 p-2 justify-content-center ">

                                            <div class=" ">
                                                <a href="" class="btn btn-warning py-3 px-4 mr-3">
                                                    <h3>{{ teams.win_percentage|floatformat:2 }}%</h3> Matche Wining
                                                </a>
                                            </div>

                                            <div class=" ">
                                                <a href="" class="btn btn-info py-3 px-4 mr-3">
                                                    <h3>{{ teams.loss_percentage|floatformat:2 }}%</h3> Matche Loss
                                                </a>
                                            </div>

                                            <div class=" ">
                                                <a href="" class="btn btn-success py-3 px-4 mr-3">
                                                    <h3>{{ teams.draws_percentage| floatformat:2}}%</h3> Matche Draws
                                                </a>
                                            </div>




                                        </div>



                                        <div class="widget-next-match">

                                            <div class="col-md-5 p-3">

                                                <img src="{{ team.team_logo.url }}" alt="" class="" height="60"
                                                    width="60">
                                                <hr>
                                                <h6 class=""> Coatch: {{team.coach_name}}
                                                </h6>
                                                <p>Team : {{team.team_name}} <br>
                                                    Batch : {{team.batch_name}} <br>
                                                    Phone : {{team.phone}} <br>
                                                    Mail : {{team.email}} <br>



                                                </p>
                                            </div>

                                            <div class="col-md-0 " style="border: 1px solid rgb(112, 112, 112);"></div>
                                            <div class="col-md-6 p-3  ">


                                                <p class="">Match Played: {{teams.matches_played}} <br>
                                                    <a href=" " data-target="#wins" class="match " >Wins : {{teams.wins}}  </a>  <br>
                                                    <a href=" " data-target="#loss" class="match " >Loss : {{teams.losses}}  </a>  <br>
                                                    <a href=" " data-target="#draws" class="match " >Draws : {{teams.draws}}  </a>  <br>


                                

                                                    Total Goal: {{teams.goals_scored}} <br>
                                                    Total conceded: {{teams.goals_conceded}} <br>
                                                </p>





                                            </div>


                                            <!-- widget-win-match -->
                                            <div class="section d-none justify-content-center " id="wins">
                                                <h4 class="justify-content-center text-primary">All Wins Matches </h4>
                                                {% for match in won_matches %}
                                               
                                                <a href="{% url 'FootBall:match_info' match.id  match.left_team.id match.right_team.id  %}"
                                                    class="border m-2 p-1 w-auto align-items-center justify-content-center btn btn-dark ">
                                                    <span class=" ">{{match.create_at}}</span>

                                                    <div class="d-flex  align-items-center justify-content-center  ">
                                                        <span class="pr-3"> {{ match.left_team }} </span>
                                                        <span class="p-3"> <img
                                                                src="{{ match.left_team.team_logo.url }}" alt="Image"
                                                                height="50px">
                                                        </span>
                                                        <span class="p-3"> {{ match.left_score }} - {{ match.right_score}} </span>
                                                        <span class="p-3"> <img
                                                                src="{{ match.right_team.team_logo.url }}" alt="Image"
                                                                height="50px">
                                                        </span>

                                                        <span class="p-3"> {{ match.right_team }} </span>

                                                    </div>

                                                    <span class=" ">Referee: {{match.referee}} <br> Location:
                                                        {{match.location}} </span>
                                                </a>

                                                {% empty %}
                                                <tr>
                                                    <td colspan="4">No matches lost.</td>
                                                </tr>
                                        
                                                {% endfor %}
                                            </div>


                                               <!-- widget-losses-match -->
                                               <div class="section d-none " id="loss">
                                                <h4 class="justify-content-center text-primary">All Losses Matches </h4>

                                                {% for match in lost_matches %}
                                                <a href="{% url 'FootBall:match_info' match.id  match.left_team.id match.right_team.id %}"
                                                    class="border m-2 p-3 w-auto align-items-center justify-content-center btn btn-dark ">
                                                    <span class=" ">{{match.create_at}}</span>

                                                    <div class="d-flex  align-items-center justify-content-center  ">
                                                        <span class="pr-3"> {{ match.left_team }} </span>
                                                        <span class="p-3"> <img
                                                                src="{{ match.left_team.team_logo.url }}" alt="Image"
                                                                height="50px">
                                                        </span>
                                                        <span class="p-3"> {{ match.left_score }} - {{ match.right_score}} </span>
                                                        <span class="p-3"> <img
                                                                src="{{ match.right_team.team_logo.url }}" alt="Image"
                                                                height="50px">
                                                        </span>

                                                        <span class="p-3"> {{ match.right_team }} </span>

                                                    </div>

                                                    <span class=" ">Referee: {{match.referee}} <br> Location:
                                                        {{match.location}} </span>
                                                </a>

                                                {% empty %}
                                                <tr>
                                                    <td colspan="4">No matches lost.</td>
                                                </tr>
                                        
                                                {% endfor %}
                                            </div>




                                            <!-- widget-draws-match -->
                                            <div class="section d-none justify-content-center " id="draws">
                                                <h4 class="justify-content-center text-primary">All Draws Matches </h4>
                                                {% for match in draw_matches %}
                                               
                                                <a href="{% url 'FootBall:match_info' match.id  match.left_team.id match.right_team.id %}"
                                                    class="border m-2 p-1 w-auto align-items-center justify-content-center btn btn-dark ">
                                                    <span class=" ">{{match.create_at}}</span>

                                                    <div class="d-flex  align-items-center justify-content-center  ">
                                                        <span class="pr-3"> {{ match.left_team }} </span>
                                                        <span class="p-3"> <img
                                                                src="{{ match.left_team.team_logo.url }}" alt="Image"
                                                                height="50px">
                                                        </span>
                                                        <span class="p-3"> {{ match.left_score }} - {{ match.right_score}} </span>
                                                        <span class="p-3"> <img
                                                                src="{{ match.right_team.team_logo.url }}" alt="Image"
                                                                height="50px">
                                                        </span>

                                                        <span class="p-3"> {{ match.right_team }} </span>

                                                    </div>

                                                    <span class=" ">Referee: {{match.referee}} <br> Location:
                                                        {{match.location}} </span>
                                                </a>

                                                {% empty %}
                                                <tr>
                                                    <td colspan="4">No matches Draws.</td>
                                                </tr>
                                        
                                                {% endfor %}
                                            </div>



                                       </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<script>
    $(document).ready(function () {
        $(".match").click(function (e) {
            e.preventDefault();
            // Hide all sections
            $(".section").addClass("d-none");
            // Show the target section
            var target = $(this).data("target");
            $(target).removeClass("d-none");
        });
    });
</script>



{% endblock main-content %}